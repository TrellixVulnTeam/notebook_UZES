
**磁盘**

```
查看磁盘空间

- 查看磁盘空间利用大小:

`df -h`

-h: human缩写，以易读的方式显示结果（即带单位：比如M/G，如果不加这个参数，显示的数字以B为单位）

- 查看当前目录所占空间大小:

`du -sh`

-h 人性化显示

-s 递归整个目录的大小

- 查看当前目录下所有子文件夹排序后的大小:

du -sh `ls` | sort
```

**cpu**

查看CPU使用率

```
$sar -u

eg:
$sar -u 1 2
[/home/weber#]sar -u 1 2
Linux 2.6.35-22-generic-pae (MyVPS)     06/28/2014      _i686_  (1 CPU)

09:03:59 AM     CPU     %user     %nice   %system   %iowait    %steal     %idle
09:04:00 AM     all      0.00      0.00      0.50      0.00      0.00     99.50
09:04:01 AM     all      0.00      0.00      0.00      0.00      0.00    100.00
```

后面的两个参数表示监控的频率，比如例子中的1和2，表示每秒采样一次，总共采样2次；

查看CPU平均负载

```
$sar -q 1 2
sar指定-q后，就能查看运行队列中的进程数、系统上的进程大小、平均负载等；
```

**查询内存**

查看内存使用状况 sar指定-r之后，可查看内存使用状况;

```
$sar -r 1 2
09:08:48 AM kbmemfree kbmemused  %memused kbbuffers  kbcached  kbcommit   %commit  kbactive   kbinact
09:08:49 AM     17888    359784     95.26     37796     73272    507004     65.42    137400    150764
09:08:50 AM     17888    359784     95.26     37796     73272    507004     65.42    137400    150764
Average:        17888    359784     95.26     37796     73272    507004     65.42    137400    150764
```

查看内存使用量

```
$free -m
```

**查询页面交换**

查看页面交换发生状况 页面发生交换时，服务器的吞吐量会大幅下降；服务器状况不良时，如果怀疑因为内存不足而导致了页面交换的发生，可以使用sar -W这个命令来确认是否发生了大量的交换；

```
$sar -W 1 3
```

